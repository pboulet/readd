<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>READD</title>

    <!-- Bootstrap Core CSS - Uses Bootswatch Flatly Theme: http://bootswatch.com/flatly/ -->
    <link href="../libs/bootstrap-3.3.4/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="./styles/css/default.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="../libs/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    
    <!-- toastr -->
    <link href="../libs/toastr/toastr.js.map" rel="stylesheet" type="text/css">
    <link href="../libs/toastr/toastr.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#page-top">READD</a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="page-scroll">
                        <a href="#bookshelf"><i class="fa fa-search fa-2x"></i>Search & Pick</a>
                    </li>
                    <li class="page-scroll">
                        <a href="" data-bind="click: $root.toggleShowCart">
                            <span class="badge" data-bind="visible: $root.booksInCart().length > 0, text: $root.booksInCart().length">                                   </span>
                            <i class="fa fa-shopping-cart fa-2x"></i>Cart
                        </a>
                    </li>
                </ul>
            </div>
            <div data-bind="fadeVisible: $root.showCart(), visible: $root.showCart()">
                <div class="row">  
                    <div class="pull-right">
                        <a href="" data-bind="click: $root.toggleShowCart">
                            <i class="fa fa-remove fa-2x"></i>
                        </a>
                    </div>
                </div>
                <div class="row">
                    <!-- ko foreach: $root.booksInCart -->
                      <div class="book-item" data-bind="css: {'col-sm-4' : $data.detailsExpanded(), 'col-sm-2' : !$data.detailsExpanded()}">
                        <div data-bind="css: {'col-sm-6' : $data.detailsExpanded(), 'col-sm-12' : !$data.detailsExpanded()}">
                          <div>
                              <img src="./styles/css/img/bookItemPlaceholder.png" 
                                   data-bind="click: function(){$data.detailsExpanded(!$data.detailsExpanded());}">
                            </div>
                          </div>
                          <div class="col-sm-6" data-bind="css: {display: $data.detailsExpanded() ? 'inline' : 'none'}">
                            <div class="caption" data-bind="fadeVisible: $data.detailsExpanded(), visible: $data.detailsExpanded()">
                                <h6 data-bind="text: $data.title"></h6>
                                <p style="font-size:12px" data-bind="text: $data.description"></p>
                                <button class="btn btn-sm btn-danger" 
                                        data-bind="click: $root.removeFromCart.bind($data)">Remove</button>
                            </div>
                          </div>
                      </div>
                     <div class="clearfix visible-xs-block"></div>
                    <!-- /ko -->
                </div>
                <div class="row">
                    <div class="pull-right">
                        <button class="btn btn-sm btn-success" data-bind="visible: $root.booksInCart().length > 0"
                                data-toggle="modal" data-target="#checkoutModal">Checkout</button>
                    </div>
                </div>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Bookshelf Grid Section -->
    <section id="bookshelf">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2>Bookshelf</h2>
                </div>
            </div>
            <div class="row">
                <!-- ko foreach: $root.books -->
                  <div class="book-item" data-bind="css: {'col-sm-4' : $data.detailsExpanded(), 'col-sm-2' : !$data.detailsExpanded()}">
                    <div data-bind="css: {'col-sm-6' : $data.detailsExpanded(), 'col-sm-12' : !$data.detailsExpanded()}">
                      <div>
                          <img src="./styles/css/img/bookItemPlaceholder.png" 
                               data-bind="click: function(){$data.detailsExpanded(!$data.detailsExpanded());}">
                          <!-- <img src="http://placehold.it/150x200" 
                                    data-bind="click: function(){$data.detailsExpanded(!$data.detailsExpanded());}">
                            <!-- commented it out to be able to work offline
                            <!--TODO: figure out how to put this event so that the details sticks when we hover over them
                                      -->
                        </div>
                      </div>
                      <div class="col-sm-6" data-bind="css: {display: $data.detailsExpanded() ? 'inline' : 'none'}">
                        <div class="caption" data-bind="fadeVisible: $data.detailsExpanded(), visible: $data.detailsExpanded()">
                            <h6 data-bind="text: $data.title"></h6>
                            <p style="font-size:12px" data-bind="text: $data.description"></p>
                            <button class="btn btn-sm btn-warning" 
                                    data-bind="click: $root.addToCart.bind($data), visible: !$data.isInCart()">Add to Cart</button>
                            <span data-bind="visible: $data.isInCart" style="font-style:italic">In Cart</span>
                        </div>
                      </div>
                  </div>
                 <div class="clearfix visible-xs-block"></div>
                <!-- /ko -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="text-center">
        <div class="footer-below">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        Copyright &copy; Patrice Boulet & Pascal Lecompte Tremblay 2015
                    </div>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- modals -->
    <div class="modal fade" id="checkoutModal" tabindex="-1" role="dialog" >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Checkout</h4>
              <div class="stepwizard">
                <div class="stepwizard-row setup-panel">
                    <div class="stepwizard-step">
                        <a href="#step-1" type="button" class="btn btn-primary btn-circle" 
                           data-bind="css: {'btn-primary' : $root.currentCheckoutStepNum() == 1, 
                                            'btn-default' : $root.currentCheckoutStepNum() != 1},
                                      click: $root.setCurrentCheckoutStepNum.bind(1, $root)">1</a>
                        <p style="font-size:12px">Step 1 - Billing & Shipping Information</p>
                    </div>
                   <div class="stepwizard-step">
                        <a href="#step-2" type="button" class="btn btn-primary btn-circle" 
                           data-bind="css: {'btn-primary' : $root.currentCheckoutStepNum() == 2, 
                                            'btn-default' : $root.currentCheckoutStepNum() != 2},
                                      click: $root.setCurrentCheckoutStepNum.bind(2, $root)">2</a>
                        <p style="font-size:12px">Step 2 - Payment Information</p>
                    </div>
                   <div class="stepwizard-step">
                        <a href="#step-3" type="button" class="btn btn-primary btn-circle" 
                           data-bind="css: {'btn-primary' : $root.currentCheckoutStepNum() == 3, 
                                            'btn-default' : $root.currentCheckoutStepNum() != 3},
                                      click: $root.setCurrentCheckoutStepNum.bind(3, $root)">3</a>
                        <p style="font-size:12px">Step 3 - Review Your Bill</p>
                    </div>
                </div>
            </div>
          </div>
          <div class="modal-body">
            <form role="form">
                <div class="row" id="checkout-step">
                    <!-- ko template: {name: "checkout-step-" + $root.currentCheckoutStepNum()} -->
                    <!-- /ko -->
                </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal" 
                    data-bind="click: $root.cancelCheckout.bind($root)">Cancel</button>
            <button type="button" class="btn btn-primary" 
                    data-bind="visible: $root.currentCheckoutStepNum() > 1, click: $root.decrementCurrentCheckoutStepNum.bind($root)">Back
            </button>
            <button type="button" class="btn btn-primary" 
                    data-bind="visible: $root.currentCheckoutStepNum() < 3, click: $root.incrementCurrentCheckoutStepNum">Next
            </button>
            <button type="button" class="btn btn-success" data-bind="visible: $root.currentCheckoutStepNum() > 2">Checkout</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!-- knockout templates -->
    <script type="text/html" id="checkout-step-1">
        <div class="col-xs-12">
            <div class="col-md-12">
                <h4> Step 1</h4>
                <div class="form-group">
                    <label class="control-label">First Name</label>
                    <input  maxlength="100" type="text" required="required" class="form-control" placeholder="Enter First Name"  />
                </div>
                <div class="form-group">
                    <label class="control-label">Last Name</label>
                    <input maxlength="100" type="text" required="required" class="form-control" placeholder="Enter Last Name" />
                </div>
            </div>
        </div>
    </script>
        
    <script type="text/html" id="checkout-step-2">
    <form class="form-horizontal" role="form">
        <fieldset>
          <div class="form-group">
            <label class="col-sm-3 control-label" for="card-holder-name">Name on Card</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="card-holder-name" id="card-holder-name" placeholder="Card Holder's Name">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-3 control-label" for="card-number">Card Number</label>
            <div class="col-sm-9">
              <input type="text" class="form-control" name="card-number" id="card-number" placeholder="Debit/Credit Card Number">
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-3 control-label" for="expiry-month">Expiration Date</label>
            <div class="col-sm-9">
              <div class="row">
                <div class="col-xs-3">
                  <select class="form-control col-sm-2" name="expiry-month" id="expiry-month">
                    <option>Month</option>
                    <option value="01">Jan (01)</option>
                    <option value="02">Feb (02)</option>
                    <option value="03">Mar (03)</option>
                    <option value="04">Apr (04)</option>
                    <option value="05">May (05)</option>
                    <option value="06">June (06)</option>
                    <option value="07">July (07)</option>
                    <option value="08">Aug (08)</option>
                    <option value="09">Sep (09)</option>
                    <option value="10">Oct (10)</option>
                    <option value="11">Nov (11)</option>
                    <option value="12">Dec (12)</option>
                  </select>
                </div>
                <div class="col-xs-3">
                  <select class="form-control" name="expiry-year">
                    <option value="13">2013</option>
                    <option value="14">2014</option>
                    <option value="15">2015</option>
                    <option value="16">2016</option>
                    <option value="17">2017</option>
                    <option value="18">2018</option>
                    <option value="19">2019</option>
                    <option value="20">2020</option>
                    <option value="21">2021</option>
                    <option value="22">2022</option>
                    <option value="23">2023</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="col-sm-3 control-label" for="cvv">Card CVV</label>
            <div class="col-sm-3">
              <input type="text" class="form-control" name="cvv" id="cvv" placeholder="Security Code">
            </div>
          </div>
        </fieldset>
        </form>
    </script>
        
    <script type="text/html" id="checkout-step-3">
        <div class="row">
            <div class="col-xs-12">
                <div class="invoice-title">
                    <h2>Invoice</h2><h3 class="pull-right">Order # 12345</h3>
                </div>
                <hr>
                <div class="row">
                    <div class="col-xs-6">
                        <address>
                        <strong>Billed To:</strong><br>
                            John Smith<br>
                            1234 Main<br>
                            Apt. 4B<br>
                            Springfield, ST 54321
                        </address>
                    </div>
                    <div class="col-xs-6 text-right">
                        <address>
                        <strong>Shipped To:</strong><br>
                            Jane Smith<br>
                            1234 Main<br>
                            Apt. 4B<br>
                            Springfield, ST 54321
                        </address>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-6">
                        <address>
                            <strong>Payment Method:</strong><br>
                            Visa ending **** 4242<br>
                            jsmith@email.com
                        </address>
                    </div>
                    <div class="col-xs-6 text-right">
                        <address>
                            <strong>Order Date:</strong><br>
                            March 7, 2014<br><br>
                        </address>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title"><strong>Order summary</strong></h3>
                    </div>
                    <div class="panel-body">
                        <div class="table-responsive">
                            <table class="table table-condensed">
                                <thead>
                                    <tr>
                                        <td><strong>Item</strong></td>
                                        <td class="text-center"><strong>Price</strong></td>
                                        <td class="text-center"><strong>Quantity</strong></td>
                                        <td class="text-right"><strong>Totals</strong></td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- foreach ($order->lineItems as $line) or some such thing here -->
                                    <tr>
                                        <td>BS-200</td>
                                        <td class="text-center">$10.99</td>
                                        <td class="text-center">1</td>
                                        <td class="text-right">$10.99</td>
                                    </tr>
                                    <tr>
                                        <td>BS-400</td>
                                        <td class="text-center">$20.00</td>
                                        <td class="text-center">3</td>
                                        <td class="text-right">$60.00</td>
                                    </tr>
                                    <tr>
                                        <td>BS-1000</td>
                                        <td class="text-center">$600.00</td>
                                        <td class="text-center">1</td>
                                        <td class="text-right">$600.00</td>
                                    </tr>
                                    <tr>
                                        <td class="thick-line"></td>
                                        <td class="thick-line"></td>
                                        <td class="thick-line text-center"><strong>Subtotal</strong></td>
                                        <td class="thick-line text-right">$670.99</td>
                                    </tr>
                                    <tr>
                                        <td class="no-line"></td>
                                        <td class="no-line"></td>
                                        <td class="no-line text-center"><strong>Shipping</strong></td>
                                        <td class="no-line text-right">$15</td>
                                    </tr>
                                    <tr>
                                        <td class="no-line"></td>
                                        <td class="no-line"></td>
                                        <td class="no-line text-center"><strong>Total</strong></td>
                                        <td class="no-line text-right">$685.99</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>
                                      
    <!-- jQuery -->
    <script src="../libs/jquery.js"></script>
    
    <!-- knockoutJS -->
    <script src="../libs/knockout/knockout-3.3.0.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="../libs/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    
    <!-- Logic -->
    <script src="./js/Bookshelf.js"></script>
    
    <!-- toastr -->
    <script src="../libs/toastr/toastr.min.js"></script>

</body>

</html>
